<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
    <link rel="stylesheet" href="css/public.css">
	<link rel="stylesheet" href="css/iconfont.css"/>
	<link rel="stylesheet" href="css/login.css">

</head>
<body>
		<header>
		<div class="headern">
		<img src="img/1.jpg" alt="一加" class="headerimg" />
		<ul class="headerul">
			<li><a href="#">OnePlus 6T <span id="tnew">New</span></a></li>
			<li><a href="#">OnePlus 6</a></li>
			<li><a href="#">商城</a></li>
			<li><a href="#">品牌</a></li>
			<li><a href="#">服务</a></li>
			<li><a href="#">论坛</a></li>
		</ul>
		<div class="headeryou">
			<div class="headeryoum">
				<span class="headeryoumaaa"><i class="iconfont icon-lianxiren"></i></span>
				<div class ="headerhy">
				 <a href="#">订单</a>
				 <a href="#">账户</a>
				 <a href="#">推荐有礼</a>
				 <a href="#" id="denglv">登录</a>
          <span id="yonghu">who?</span><a href="#" id="tuichu">退出</a>
			   </div>
			</div>
			<div class="headeryoum deaderyoumm">
				<span class="headeryouaasapn">
				<i class="iconfont icon-caigou-xianxing"></i></span>
			  <div id ="headerhyy">
				     <a href="#" id="headermmd">您的购物车里没有商品</a>
			  	 <div id="shangpin">
				  
			  	 </div>
				    <a href="#" id="hedmmmpp">去购物</a>
			   </div>
			</div>
			<div class="headeryoum">
			<span class="headeryoumaaa"><i class="iconfont icon-sousuo1"></i></span>
			</div>
		</div>
	</div>
	</header>
  <div class="zhongw">
     <div id="zhong">
 	 <h1 class="logindl">登录</h1>
          <form action="php/login.php" class="fform">
             <span id="phpspan" >用户名或密码错误</span>

          	 <input type="text" name="username" class="fname" id="username" placeholder="手机 / 邮箱 / 用户名" />
          	 <span id="usernamespan" >请输入您的登录账号</span>
          	 <span class ="mimaw">
          	 	<input   type="password" name="psd" id="pasdd" class="fname" value="" placeholder="密码" />
          	 	  <span id="iconfw"><i class="iconfont icon-yanjing"></i>
          	 	   <span id="biyan">\</span>
          	 	</span>
          	 </span>
          	 <div id="huakuai" class="fname">
          	 	<div id="huakuaihou"></div>
          	 	<div id="huakuaizuo"></div>
          	 	<span id="kuaikuai">&gt;&gt;</span>
          	 	<p id="kuaizi"><span>按</span><span>住</span><span>滑</span><span>块</span><span>，</span><span>拖</span><span>动</span><span>到</span><span>最</span><span>右</span><span>边</span><span></span></p>
          	 	<span id="huakuaishan"></span>
          	 </div>
              <p id="huakyz">请滑动验证码完成安全验证</p>

          	 <input type="submit"  id="tijiao" class="fname" value="确定" />
          </form>
             <div class="qita">
             	    <p class="qitazi">选择其它方式登录</p>
             	     <a href="#" class="qitafangshi" id="qita1"></a>
             	     <a href="#" class="qitafangshi" id="qita2"></a>
             	     <a href="#" class="qitafangshi" id="qita3"></a>
                      <a href="regstered.html" class="qitazhuce" id="qitaz1">注册</a>
                      <a href="#" class="qitazhuce" id="qitaz2">忘记密码</a>
             </div>
     </div>


  </div>
	 <div id="hou">
  	<div class="houn">
  	    
  	    	 <ul class="hous" id="hous1">
  	    	 	<li>一加产品</li>
  	    	 	<li><a href="">OnePlus 6T</a></li>
  	    	 	<li><a href="">OnePlus 6</a></li>
  	    	 	<li><a href="">OnePlus 5T</a></li>
  	    	 	<li><a href="">OnePlus 5</a></li>
  	    	 </ul>
  	        <ul class="hous" id="hous2">
  	    	 	<li>热门活动</li>
  	    	 	<li><a href="">推荐有礼</a></li>
  	    	 	<li><a href="">依旧换新</a></li>
  	    	 	<li><a href="">Shot on OnePlus</a></li>
  	    	 </ul>
  	    
  	     <ul class="hous" id="hous3">
  	    	 	<li>关于一加</li>
  	    	 	<li><a href="">了解一加</a></li>
  	    	 	<li><a href="">加入一加</a></li>
  	    	 	<li><a href="">H2OS</a></li>
  	    	 	<li><a href="">云服务</a></li>
  	    	 	<li><a href="">预置应用公示</a></li>
  	    	 </ul>
  	    	   <ul class="hous" id="hous4">
  	    	 	<li>服务支持</li>
  	    	 	<li><a href="">购买帮助</a></li>
  	    	 	<li><a href="">用户手册</a></li>
  	    	 	<li><a href="">寄修服务</a></li>
  	    	 	<li><a href="">服务中心</a></li>
  	    	 	<li><a href="">联系我们</a></li>
  	    	 </ul>
  	        <div class="hous" id="hous5">
  	        	 <img src="img/dianhua.jpg" alt="" id="dianhuahaoma"/>
  	        	 <span id="kefuwai">
  	        	 	<span id="kefuhou"></span>
  	        	 	<a href="#" id="zaixiankefu">在线客服</a>
  	        	 </span>
  	        	 <li id="shij">周一至周日 9:00 - 22:00</li>
  	        	 <div id="WeChat">
  	        	 	 <img id="WeChatx" src="img/erweima.png" alt=""/>
  	        	 </div>
  	              <a href="#" id="weib"></a>
  	        </div>
  	       </div>
    </div>
    <div class="chinaw">
    	<div class="chinan">
    	  <div class="china">
    	   <span id="guoqi"></span>
    	   	<a href="#" id="china2">中国( 简体中文/CNY )</a>
    	   	<a href="#" class="yinsi">隐私政策</a>
    	   	<a href="#" class="xieyi">用户协议</a>
    	   	<a href="#" class="anquan">安全问题反馈</a>
    	  </div>
    	 </div>
    </div>
    <footer>
    	<div class="fxian">
    	 <div class="fshang">
    	 	<p class="fshang1">© 2013-2018 OnePlus. All Rights Reserved. (粤ICP备13080605号-4)</p>
    	 	<a href="#" class="yingye"></a>
    	 	<a href="#" class="kexin"></a>
    	 </div>
    	 <div class="fxia">
    	 			 <a href="#" class="fxiaw"><span class="fxiaz"></span>
    	 	     	<p class="gongan">粤公网安备 44030402001407号</p></a>
    	   </div>
    	 </div>
    	 
    </footer>
</body>
</html>
<script type="text/javascript" src="js/tools.js"></script>
<script type="text/javascript" src="js/cookieTools.js"></script>
<script type="text/javascript">
	
   window.onload=function(){
          $("#iconfw").onclick=function(){
          	  if($("#biyan").style.display!="none"){
          	  	 $("#biyan").style.display="none";
          	  	 $("#pasdd").type='text';
          	  }else{
          	  	 $("#biyan").style.display="block";
          	  	 $("#pasdd").type="password";
          	  }
          }

          geet();
          huazi();
          huanzizzi();
          huakuai();
          huakuaidong();
      }
   

        






   	 let fnames=$(".fname");
   	  for(let i =0;i<fnames.length;i++){
   	  	  fnames[i].onfocus=function(){
   	  	  	 this.style="border:1px solid #999999;outline:none;";
   	  	  }
   	  	  fnames[i].onblur=function(){
   	  	  	 this.style="border:1px solid #e6e6e6;outline:none;";
   	  	  }
   	  }

      let zhengname=false;
      $("#username").onblur=function(){
      	  if(this.value==""){
      	  	 $("#usernamespan").style.display="block";
   	  	  	 this.style="border:1px solid red;outline:none;";
      	  }else{
             $("#usernamespan").style.display="none";
             this.style="border:1px solid #7db93f;outline:none;";
              zhengname=true;
          }

      }

	      let x=null;
       	let timer=null;
        let zhenghua=false;
      $("#kuaikuai").onmousedown=function(){
      	var evt=event||window.event;
      	 $("#zhong").onmousemove=function(){
          	let evt=event||window.event;
   
        dong(evt);
         
      	      }
      	  $("#zhong").onmouseup=function(){
      	  	$("#zhong").onmousedown="";
      	  	$("#zhong").onmousemove='';
            $("#zhong").onmouseup='';
            
      	  
      	  		let wid=x;
      	  	if(wid<$("#huakuai").offsetWidth-$("#kuaikuai").offsetWidth-10){
      	  		timer=setInterval(function(){
                   wid-=2;
                  $("#kuaikuai").style.left=wid+"px";
      	          $("#huakuaizuo").style.width=wid+"px";
      	        if(wid<=0){
      	           clearInterval(timer);
      	        }
      	    		},1);
      	  	}else{
                 $("#kuaizi").innerHTML="  &nbsp;&nbsp;&nbsp;  &nbsp;登录验证成功"
                  $("#huakyz").style.display="none";
                $("#kuaikuai").innerHTML="√";
                 zhenghua=true;
                 $("#kuaikuai").style.color="green";
                 window.clearInterval(titi);
                 window.clearInterval(timera);
      	          clearInterval(timer);
                  window.clearInterval(mytimer);
              timer=null;
      	  	}
      	  }
      }
      let phpyanz=false;
  


             $("#tijiao").onclick=function(){
                addCookie("username",$("#username").value,7);
                    }
                
            //    let  evt=event||window.event;
            //   let onn =$("#username").value;
            //   let mim =$("#pasdd").value;
            // let ajx=new XMLHttpRequest();
            // ajx.open("get","php/login.php?name="+onn+"&mima="+mim,true);
            // ajx.onreadystatechange=function(){
            //    if(ajx.readyState==4&&ajx.status==200){
            //     console.log(ajx.responseText);
            //     showdata(ajx.responseText);
            //        }
            //    }
            //      ajx.send();
                   
            //        function showdata(obj){
            //               if(obj=="ok"){
            //               phpyanz=true;
            //               }
            //             }


            //                if(zhengname&&zhenghua&&phpyanz){
            //                  alert("登录成功，7天内免登录");
            //                  addCookie("username",$("#username").value,7);
            //         }
                    // else{
        //               evt.preventDefault();
        //                     if(!zhengname){
        //      $("#usernamespan").style.display="block";
        //      this.style="border:1px solid red;outline:none;";
        //      }
        //   if(!zhenghua){
        //           $("#huakyz").style.display="block";
        //   }else{
        //          $("#huakyz").style.display="none";
        //   }
        //   if(!phpyanz){
        //         $("#phpspan").style.display='block';
        //   }else{
        //         $("#phpspan").style.display='none';
        //   }
        // }

          //     function ajax(){
          //     let onn =$("#username").value;
          //     let mim =$("#pasdd").value;
          //   let ajx=new XMLHttpRequest();
          //   ajx.open("get","php/login.php?name="+onn+"&mima="+mim,true);
          //   ajx.onreadystatechange=function(){
          //      if(ajx.readyState==4&&ajx.status==200){
          //       showdata(ajx.responseText);
          //      }
          //   }
          //        ajx.send();
          // }
             
                   

      function dong(evt){
            x=evt.clientX-$("#huakuai").offsetLeft;
            if(x<=0){
            	x=0;
            }
                if(x>$("#huakuai").offsetWidth-$("#kuaikuai").offsetWidth){
             	x=$("#huakuai").offsetWidth-$("#kuaikuai").offsetWidth;
             }
      	    $("#kuaikuai").style.left=x+"px";
      	    $("#huakuaizuo").style.width=x+"px";
      }


      let titi=null;
      function huanzizzi(){
      	     titi= setInterval(function(){
                 huazi();
      	    },4000)
      }
      let mytimer=null;
     function huazi(){
           let zi=$("#kuaizi").children;
           let chang=0;
            mytimer =setInterval(function(){
               for(let i =0;i<zi.length;i++){
               	zi[i].style.color="#818181";
                  }
                 chang++;
                  if(chang>zi.length-2){
         
               zi[chang].style.color="#818181";

               	 clearInterval(mytimer);
               }
               zi[chang].style.color="#fefefe";
           },57);

     }
      let timera=null;
    function  huakuai(){
    	  timera=setInterval(function(){
         	$("#huakuaishan").style.display="block";
             huakuaidong();
    	 },4000);

    }


    function huakuaidong(){
    	let chang=50;
    	let mytimer=setInterval(function(){
    		chang++;
    	 $("#huakuaishan").style.left=chang+"px";
         if(chang>=$("#huakuai").offsetWidth-100){
         	clearInterval(mytimer);
         	$("#huakuaishan").style.display="none";
         }
    	},1);
    }
        
   function geet(){
         let str=getCookie("username");
         if(str!=null){
           $("#yonghu").value=str;
           $("#denglv").style.display="none";
             // $("#denglv").css("display",'none');
           $("#yonghu").style.display="block";
             // $("#yonghu").css("display","block");
           $("#tuichu").style.display="block";
             // $("#tuichu").css("display","block");
           $("#tuichu").onclick=function(){
             addCookie("username","?",-1);
             // $("#denglv").css("display",'block');
             // $("#yonghu").css("display","none");
             // $("#tuichu").css("display","none");
           $("#denglv").style.display="block";
           $("#yonghu").style.display="none";
           $("#tuichu").style.display="none";

              geet();
           }

         }else{
           $("#denglv").style.display="block";
             // $("#denglv").css("display","block");
           $("#yonghu").style.display="none";
             // $("#yonghu").css("display","none");
           $("#tuichu").style.display="none";
             // $("#tuichu").css("display","none");
         }

      
 }















</script>